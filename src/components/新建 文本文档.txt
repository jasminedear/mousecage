src/
 â”œâ”€ components/
 â”‚   â”œâ”€ CageGrid.vue          # ç¬¼ä½æ€»è§ˆ + æœç´¢ + å¯¼å‡ºæŒ‰é’®+å¯¼å…¥
 â”‚   â”œâ”€ MouseCard.vue         # è€é¼ å¡ç‰‡ï¼ˆé¢œè‰²åŒºåˆ†ï¼Œé¼ æ ‡æ‚¬æµ®æ˜¾ç¤ºç®€ä»‹ï¼‰
 â”‚   â”œâ”€ MouseDetail.vue       # è€é¼ è¯¦ç»†ä¿¡æ¯ï¼ˆå¼¹çª—ï¼Œå¯ç¼–è¾‘ï¼‰
 â”‚   â”œâ”€ AddMouseModal.vue     # æ·»åŠ è€é¼ 
 â”‚   â”œâ”€ AddCageModal.vue      # æ·»åŠ ç¬¼ä½
 â”‚   â”œâ”€ MoveMouseModal.vue    # ç§»åŠ¨è€é¼ ï¼ˆè®°å½•ï¼‰
 â”‚   â”œâ”€ BreedingModal.vue     # ç¹è‚²åŠŸèƒ½
â”‚   â”œâ”€ BreedingRecords.vue     # ç¹è‚²è®°å½•
â”‚   â”œâ”€CageCard.vue
â”‚   â”œâ”€CageList.vue
â”‚   â”œâ”€DeadMouseListModal.vue
â”‚   â”œâ”€Login.vue
â”‚   â”œâ”€MouseListModal.vue
â”‚   â”œâ”€MoveMouseModal.vue
â”‚   â”œâ”€PedigreeView.vue
â”‚   â”œâ”€RatCageList.vue
 â”‚   â””â”€ ExportDropdown.vue    # å¯¼å‡ºåŠŸèƒ½ï¼ˆJSON/CSV/Excelï¼‰
 â”‚
 â”‚
 â”œâ”€ stores/
 â”‚   â””â”€ mice.js               # Piniaï¼Œç»Ÿä¸€æ•°æ® & åŠ¨ä½œ
 â”‚   â””â”€ user.js
â”‚   â””â”€counter.ts
 â”œâ”€ utils/
 â”‚   â””â”€ export.js
â”‚   â””â”€ import.js           # å¯¼å‡ºå·¥å…·å‡½æ•°
â”‚   â””â”€idGenerator.js
â”‚   â””â”€leancloud.js
 â”œâ”€ router/
 â”‚   â””â”€ index.ts             # 
 â”œâ”€ App.vue
 â””â”€ main.ts
ğŸ‘Œ å¥½ï¼Œé‚£æˆ‘ä»¬å°±æŒ‰ç…§ä¸€ä¸ªæœ€è‡ªç„¶çš„å¼€å‘é¡ºåºæ¥èµ°ï¼Œé¿å…è¿”å·¥ã€‚å»ºè®®ä» **æ•°æ®å±‚ â†’ ç»„ä»¶å±‚ â†’ åŠŸèƒ½å±‚** çš„æ€è·¯å¼€å§‹ï¼š

å…¥å£å±‚ â†’ App.vueã€main.tsã€stores/mice.jsã€‚

æ ¸å¿ƒ UI â†’ CageGrid.vueã€MouseCard.vueã€MouseDetail.vueã€‚

å…³é”®æ“ä½œ â†’ BreedingModal.vueã€MoveMouseModal.vueã€BreedingRecords.vueã€‚

å¯¼å…¥å¯¼å‡º â†’ ExportDropdown.vueã€utils/export.jsã€utils/import.jsã€‚

æ¬¡è¦åŠŸèƒ½ â†’ å…¶ä»– modal / åˆ—è¡¨ç±»æ–‡ä»¶ã€‚

### ğŸ¥‡ ç¬¬ä¸€æ­¥ï¼šæ•°æ®å±‚ï¼ˆPinia storeï¼‰

* å…ˆæŠŠ **`store/mice.js`** å†™å¥½ï¼Œå› ä¸ºæ‰€æœ‰ç»„ä»¶éƒ½ä¼šç”¨åˆ°å®ƒã€‚
* è¿™é‡Œé¢è¦åŒ…å«ï¼š

  * **state**ï¼šè€é¼ åˆ—è¡¨ã€ç¬¼ä½åˆ—è¡¨ã€ç¹è‚²è®°å½•ã€‚
  * **actions**ï¼š

    * `addMouse()` æ–°å¢è€é¼ 
    * `addCage()` æ–°å¢ç¬¼ä½
    * `moveMouse()` ç§»åŠ¨è€é¼ 
    * `breed()` ç¹è‚²
    * `updateMouse()` ä¿®æ”¹è€é¼ è¯¦ç»†ä¿¡æ¯
    * `removeMouse()` åˆ é™¤è€é¼ 
  * **getters**ï¼šæ¯”å¦‚æŒ‰ç¬¼ä½ç­›é€‰ã€æœç´¢è€é¼ ã€‚

è¿™æ ·ä»¥åæ‰€æœ‰ç»„ä»¶ç›´æ¥è°ƒ `useMiceStore()`ï¼Œä¸ä¼šå„è‡ªç»´æŠ¤æ•°æ®ã€‚

---

### ğŸ¥ˆ ç¬¬äºŒæ­¥ï¼šåŸºç¡€ UI æ¡†æ¶

* æ­ä¸€ä¸ª **ç¬¼ä½æ€»è§ˆé¡µ CageGrid.vue**ï¼Œé‡Œé¢å¾ªç¯æ¸²æŸ“è€é¼ å¡ç‰‡ (`MouseCard.vue`)ã€‚
* ç¡®ä¿èƒ½æ˜¾ç¤ºï¼š

  * ç¬¼ä½ â†’ è€é¼  â†’ è€é¼ å¡ç‰‡é¢œè‰²ï¼ˆä¸åŒçŠ¶æ€ï¼‰ã€‚
* å…ˆç”¨å‡æ•°æ®ï¼Œç­‰ store å†™å¥½å†æ¥ã€‚

---

### ğŸ¥‰ ç¬¬ä¸‰æ­¥ï¼šæ¨¡æ€æ¡†åŠŸèƒ½

* ä¸€ä¸ªä¸ªåŠ ä¸Šå»ï¼Œé¡ºåºå»ºè®®ï¼š

  1. **AddMouseModal.vue**ï¼ˆæœ€åŸºç¡€ï¼Œèƒ½æ–°å¢è€é¼ ï¼‰
  2. **MouseDetail.vue**ï¼ˆèƒ½æŸ¥çœ‹ + ç¼–è¾‘ï¼‰
  3. **MoveMouseModal.vue**ï¼ˆé…åˆ CageGrid é‡Œçš„å³é”®/æŒ‰é’®ï¼‰
  4. **AddCageModal.vue**
  5. **BreedingModal.vue**

---

### ğŸ… ç¬¬å››æ­¥ï¼šå·¥å…·åŠŸèƒ½

* `ExportDropdown.vue`ï¼ˆè°ƒç”¨ `utils/export.js`ï¼‰
* åé¢å¯ä»¥åŠ  `import.js`ï¼ˆå¯¼å…¥ Excel/CSVï¼‰

---

### âš¡ å»ºè®®èµ·ç‚¹

æˆ‘å»ºè®®å’±ä»¬**å…ˆå†™ `store/mice.js`**ï¼Œå› ä¸ºè¿™æ˜¯æ•´ä¸ªç³»ç»Ÿçš„æ ¸å¿ƒã€‚
ç­‰å®ƒå®šä¸‹æ¥ï¼Œæ‰€æœ‰ç»„ä»¶éƒ½èƒ½æ¥ä¸Šï¼Œä¸ä¼šé‡å¤é€ æ•°æ®ã€‚

---

å¥½ä¸»æ„ ğŸ‘
æˆ‘ç»™ä½ æ•´ç†ä¸€ä¸ªã€Œ**é¡¹ç›®æ ¸å¿ƒæ•°æ®å”¯ä¸€æ€§å¤‡å¿˜å½•**ã€ï¼Œæ–¹ä¾¿ä½ éšæ—¶ç¡®è®¤ï¼Œä¸ä¼šå†æ··ä¹±ã€‚

---

# ğŸ“ ç¬¼ä½ç®¡ç†é¡¹ç›®å”¯ä¸€æ€§å¤‡å¿˜å½•

## 1. **Pinia å®ä¾‹**

* **å”¯ä¸€æ¥æº**ï¼š`main.ts`
* å¿…é¡»å†™ï¼š

  ```ts
  import { createPinia } from "pinia"
  app.use(createPinia())   // âœ… å…¨å±€å”¯ä¸€
  ```
* ç»å¯¹ä¸è¦åœ¨ç»„ä»¶é‡Œ `createPinia()`ã€‚
* ç»„ä»¶é‡Œåªç”¨ï¼š

  ```js
  import { useMiceStore } from "@/stores/mice"
  const miceStore = useMiceStore()
  ```

---

## 2. **Store æ–‡ä»¶**

* **å”¯ä¸€æ–‡ä»¶**ï¼š`src/stores/mice.js`
* å¼•å…¥è·¯å¾„å¿…é¡»ç»Ÿä¸€ï¼š`@/stores/mice`
* âš ï¸ åƒä¸‡ä¸è¦ç”¨ `@/store/mice`ï¼ˆå°‘äº†ä¸€ä¸ª `s`ï¼‰ã€‚

---

## 3. **æ ¸å¿ƒæ•°æ®ç»“æ„**

### `cages`

* **å”¯ä¸€æ•°ç»„**ï¼šå­˜æ”¾æ‰€æœ‰ç¬¼å­ã€‚
* ç»“æ„ï¼š

  ```js
  {
    id: 1234567890,   // å”¯ä¸€ IDï¼ˆDate.now()ï¼‰
    name: "A-01",     // ç¬¼å­å
    row: "A"          // æ‰€å±æ’ï¼ˆç”± name è‡ªåŠ¨è§£æï¼‰
  }
  ```

### `mice`

* **å”¯ä¸€æ•°ç»„**ï¼šå­˜æ”¾æ‰€æœ‰è€é¼ ã€‚
* ç»“æ„ï¼ˆç¤ºä¾‹ï¼‰ï¼š

  ```js
  {
    id: 9876543210,  // å”¯ä¸€ ID
    name: "Mouse-1", // è€é¼ å
    cageId: 1234567890, // æ‰€å±ç¬¼å­ id
    genotype: "5Ã—FAD",
    sex: "M",
    birthDate: "2025-01-01"
  }
  ```

### `records`

* **å”¯ä¸€æ—¥å¿—æ•°ç»„**ï¼šè®°å½•æ“ä½œå†å²ã€‚
* ç»“æ„ï¼š

  ```js
  {
    id: 1122334455,
    action: "æ·»åŠ ç¬¼ä½ A-01 (æ‰€å± Aæ’)",
    time: "2025-08-29 10:12:34"
  }
  ```

---

## 4. **æ•°æ®æµ**

1. **æ·»åŠ ç¬¼å­**

   * è°ƒç”¨ `miceStore.addCage()` â†’ ä¿®æ”¹ `cages`
   * CageGrid.vue å“åº”å¼æ›´æ–°

2. **æ·»åŠ è€é¼ **

   * è°ƒç”¨ `miceStore.addMouse()` â†’ ä¿®æ”¹ `mice`
   * æ ¹æ® `cageId` æ˜¾ç¤ºåœ¨å¯¹åº” cage ä¸‹

3. **é‡å‘½å / åˆ é™¤æ’**

   * æ“ä½œ `cages`ï¼Œå¹¶è‡ªåŠ¨æ¸…ç†ç›¸å…³æ•°æ®
   * æ—¥å¿—å†™å…¥ `records`

---

## 5. **UI æ¸²æŸ“å”¯ä¸€æ¥æº**

* CageGrid.vue æ¸²æŸ“æ—¶ï¼Œå¿…é¡»åŸºäº **`miceStore.cages`** å’Œ **`miceStore.mice`**ã€‚
* åƒä¸‡ä¸è¦è‡ªå·±å†ç»´æŠ¤ä¸€ä¸ªæœ¬åœ° `ref([])` æ¥å­˜ç¬¼å­æˆ–è€é¼ ï¼Œé‚£ä¼šå’Œ store è„±èŠ‚ã€‚

---

âœ… åªè¦è®°ä½ï¼š

* **å”¯ä¸€ Pinia å®ä¾‹**
* **å”¯ä¸€ store æ–‡ä»¶**
* **å”¯ä¸€ cages / mice / records ä¸‰ä¸ªæ•°ç»„**
* **UI åªä» store è¯»ï¼Œä¸å¤åˆ¶ä¸€ä»½**

---

è¦ä¸è¦æˆ‘å¸®ä½ åšä¸€å¼  **ã€Œæ•°æ®æµå›¾ã€**ï¼ˆæ“ä½œ â†’ store â†’ UI å“åº”ï¼‰ï¼Ÿè¿™æ ·ä½ ä»¥åä¸€çœ‹å°±çŸ¥é“é—®é¢˜å‡ºåœ¨å“ªé‡Œã€‚

